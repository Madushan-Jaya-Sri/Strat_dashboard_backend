<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentro Internal Dashboard - Facebook Insights Analytics</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 15px;
        }
        
        .container {
            max-width: 1500px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(45deg, #1877f2, #42a5f5);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 8px;
        }
        
        .header .company {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .header p {
            opacity: 0.8;
            font-size: 1rem;
        }
        
        .login-section {
            padding: 50px;
            text-align: center;
            display: block;
        }
        
        .login-section.hidden {
            display: none;
        }
        
        .facebook-login-btn {
            background: #1877f2;
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(24, 119, 242, 0.3);
        }
        
        .facebook-login-btn:hover {
            background: #166fe5;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(24, 119, 242, 0.4);
        }
        
        .dashboard {
            display: none;
            padding: 25px;
        }
        
        .dashboard.active {
            display: block;
        }
        
        .user-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            border: 1px solid #e9ecef;
        }
        
        .user-avatar {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: #1877f2;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }
        
        .permission-notice {
            background: #e8f5e8;
            border: 2px solid #28a745;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: #155724;
        }
        
        .permission-notice h3 {
            margin-bottom: 8px;
            color: #0d4017;
        }
        
        .insights-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
            margin: 25px 0;
            gap: 5px;
        }
        
        .tab-btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: transparent;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            color: #6c757d;
        }
        
        .tab-btn.active {
            background: #1877f2;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .metric-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .metric-card:hover {
            transform: translateY(-3px);
            border-color: #1877f2;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .metric-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #1877f2;
            margin: 8px 0;
        }
        
        .metric-label {
            color: #6c757d;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .metric-change {
            font-size: 0.8rem;
            margin-top: 5px;
            font-weight: 600;
        }
        
        .metric-change.positive {
            color: #28a745;
        }
        
        .metric-change.negative {
            color: #dc3545;
        }
        
        .chart-section {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .chart-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #343a40;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chart-placeholder {
            height: 350px;
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-style: italic;
            text-align: center;
            line-height: 1.5;
        }
        
        .campaigns-table {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            overflow: hidden;
            margin: 25px 0;
        }
        
        .campaigns-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .campaigns-table th {
            background: #f8f9fa;
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #e9ecef;
            color: #495057;
        }
        
        .campaigns-table td {
            padding: 15px 12px;
            border-bottom: 1px solid #f8f9fa;
        }
        
        .campaigns-table tr:hover {
            background: #f8f9fa;
        }
        
        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-active {
            background: #d4edda;
            color: #155724;
        }
        
        .status-completed {
            background: #cce5ff;
            color: #004085;
        }
        
        .api-info {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: #0d47a1;
        }
        
        .api-info h3 {
            margin-bottom: 10px;
            color: #1565c0;
        }
        
        .api-info code {
            background: #bbdefb;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            display: block;
        }
        
        .loading.hidden {
            display: none;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1877f2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .insights-content {
            display: none;
        }
        
        .insights-content.active {
            display: block;
        }
        
        .company-branding {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: #856404;
        }
        
        .company-branding h3 {
            margin-bottom: 10px;
            color: #664d03;
        }
        
        .page-selector {
            display: flex;
            gap: 15px;
            align-items: center;
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .page-selector label {
            font-weight: 600;
            color: #495057;
        }
        
        .page-selector select {
            padding: 8px 12px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 14px;
            min-width: 250px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Facebook Insights Analytics Dashboard</h1>
            <div class="company">Momentro Pvt Ltd - Internal Campaign Management</div>
            <p>Advanced performance analytics for Facebook Pages and advertising campaigns</p>
        </div>
        
        <!-- Login Section -->
        <div class="login-section" id="loginSection">
            <h2 style="margin-bottom: 20px; color: #1d2129;">Campaign Manager Access</h2>
            <p style="margin-bottom: 30px; color: #65676b; max-width: 700px; margin-left: auto; margin-right: auto;">
                Log in with Facebook to access performance insights for Pages and campaigns you manage. This dashboard provides comprehensive analytics for internal campaign optimization and client reporting.
            </p>
            <button class="facebook-login-btn" onclick="simulateLogin()">
                <span style="font-size: 1.2em;">📘</span>
                Continue with Facebook
            </button>
            
            <div class="api-info">
                <h3>Permission Request: read_insights</h3>
                <p>This permission allows authorized campaign managers to access performance insights for Facebook Pages and advertising campaigns. We use the <code>/insights</code> endpoint to retrieve analytics data including reach, engagement, impressions, clicks, and spend for internal campaign analysis and optimization.</p>
            </div>
        </div>
        
        <!-- Dashboard Section -->
        <div class="dashboard" id="dashboard">
            <div class="user-info">
                <div class="user-avatar">CM</div>
                <div>
                    <h3>Campaign Manager</h3>
                    <p style="color: #65676b; margin: 5px 0;">campaign.manager@momentro.com</p>
                    <small style="color: #28a745; font-weight: 600;">✓ Connected to Facebook Insights API</small>
                </div>
            </div>
            
            <div class="permission-notice">
                <h3>✓ read_insights Permission Active</h3>
                <p>Successfully authorized to access Facebook Page insights and advertising campaign performance data. All analytics are retrieved for internal campaign management and client optimization purposes only.</p>
            </div>
            
            <div class="company-branding">
                <h3>🏢 Internal Use Only - Momentro Pvt Ltd</h3>
                <p>This dashboard is exclusively for authorized campaign managers within Momentro Pvt Ltd. All performance data is used internally for campaign analysis, optimization, and client reporting. Data is never shared externally or used for purposes other than campaign management.</p>
            </div>
            
            <!-- Loading State -->
            <div class="loading" id="loadingState">
                <div class="loading-spinner"></div>
                <p>Loading Facebook insights data using read_insights permission...</p>
                <small style="color: #65676b;">Calling Facebook Graph API: /{page-id}/insights & /{ad-account-id}/insights</small>
            </div>
            
            <!-- Insights Content -->
            <div class="insights-content" id="insightsContent">
                <div class="page-selector">
                    <label for="pageSelect">Select Client Page/Campaign:</label>
                    <select id="pageSelect" onchange="switchPage()">
                        <option>TechCorp Official - Page Insights</option>
                        <option>Local Retail Chain - Page Insights</option>
                        <option>Holiday Campaign 2024 - Ad Insights</option>
                        <option>Brand Awareness Q4 - Ad Insights</option>
                    </select>
                </div>
                
                <div class="insights-tabs">
                    <button class="tab-btn active" onclick="switchTab('overview')">Overview</button>
                    <button class="tab-btn" onclick="switchTab('engagement')">Engagement</button>
                    <button class="tab-btn" onclick="switchTab('demographics')">Demographics</button>
                    <button class="tab-btn" onclick="switchTab('performance')">Performance</button>
                </div>
                
                <!-- Overview Tab -->
                <div class="tab-content active" id="overview">
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-label">Total Reach</div>
                            <div class="metric-value">847K</div>
                            <div class="metric-change positive">+12.4% vs last period</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Impressions</div>
                            <div class="metric-value">2.1M</div>
                            <div class="metric-change positive">+8.7% vs last period</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Engagement</div>
                            <div class="metric-value">94.2K</div>
                            <div class="metric-change positive">+15.3% vs last period</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Link Clicks</div>
                            <div class="metric-value">18.7K</div>
                            <div class="metric-change negative">-2.1% vs last period</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Cost per Click</div>
                            <div class="metric-value">$1.24</div>
                            <div class="metric-change positive">-$0.08 vs last period</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Total Spend</div>
                            <div class="metric-value">$23.2K</div>
                            <div class="metric-change negative">+5.2% vs last period</div>
                        </div>
                    </div>
                </div>
                
                <!-- Engagement Tab -->
                <div class="tab-content" id="engagement">
                    <div class="chart-section">
                        <div class="chart-title">📈 Engagement Trends Over Time</div>
                        <div class="chart-placeholder">
                            [Interactive Chart: Daily engagement metrics]<br>
                            Data Source: Facebook Insights API<br>
                            Metrics: Likes, Comments, Shares, Reactions<br>
                            Endpoint: /{page-id}/insights/page_post_engagements
                        </div>
                    </div>
                    
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-label">Post Engagements</div>
                            <div class="metric-value">67.4K</div>
                            <div class="metric-change positive">+18.9% vs last period</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Page Likes</div>
                            <div class="metric-value">3.2K</div>
                            <div class="metric-change positive">+7.3% vs last period</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Comments</div>
                            <div class="metric-value">8.9K</div>
                            <div class="metric-change positive">+22.1% vs last period</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">Shares</div>
                            <div class="metric-value">4.7K</div>
                            <div class="metric-change positive">+11.8% vs last period</div>
                        </div>
                    </div>
                </div>
                
                <!-- Demographics Tab -->
                <div class="tab-content" id="demographics">
                    <div class="chart-section">
                        <div class="chart-title">👥 Audience Demographics</div>
                        <div class="chart-placeholder">
                            [Charts: Age groups, Gender distribution, Geographic reach]<br>
                            Data Source: Facebook Insights API<br>
                            Endpoints: /{page-id}/insights/page_fans_by_age_gender<br>
                            /{page-id}/insights/page_fans_country
                        </div>
                    </div>
                </div>
                
                <!-- Performance Tab -->
                <div class="tab-content" id="performance">
                    <div class="campaigns-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Campaign/Post</th>
                                    <th>Status</th>
                                    <th>Reach</th>
                                    <th>Impressions</th>
                                    <th>Engagement</th>
                                    <th>Clicks</th>
                                    <th>Spend</th>
                                    <th>CTR</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Holiday Promotion Post</td>
                                    <td><span class="status-badge status-active">Active</span></td>
                                    <td>156,789</td>
                                    <td>234,567</td>
                                    <td>12,345</td>
                                    <td>3,456</td>
                                    <td>$2,890</td>
                                    <td>1.47%</td>
                                </tr>
                                <tr>
                                    <td>Brand Awareness Video</td>
                                    <td><span class="status-badge status-completed">Completed</span></td>
                                    <td>298,456</td>
                                    <td>445,123</td>
                                    <td>18,902</td>
                                    <td>7,234</td>
                                    <td>$4,567</td>
                                    <td>1.62%</td>
                                </tr>
                                <tr>
                                    <td>Product Launch Campaign</td>
                                    <td><span class="status-badge status-active">Active</span></td>
                                    <td>187,234</td>
                                    <td>312,876</td>
                                    <td>15,687</td>
                                    <td>4,923</td>
                                    <td>$3,245</td>
                                    <td>1.57%</td>
                                </tr>
                                <tr>
                                    <td>Customer Testimonial</td>
                                    <td><span class="status-badge status-completed">Completed</span></td>
                                    <td>89,567</td>
                                    <td>156,234</td>
                                    <td>9,876</td>
                                    <td>2,345</td>
                                    <td>$1,567</td>
                                    <td>1.50%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="api-info">
                    <h3>📊 Data Sources & API Endpoints</h3>
                    <p><strong>Page Insights:</strong> <code>/{page-id}/insights/page_impressions</code>, <code>/page_post_engagements</code></p>
                    <p><strong>Ad Campaign Insights:</strong> <code>/{ad-account-id}/insights</code>, <code>/{campaign-id}/insights</code></p>
                    <p><strong>Demographic Data:</strong> <code>/page_fans_by_age_gender</code>, <code>/page_fans_country</code></p>
                    <p><strong>Performance Metrics:</strong> Used exclusively by Momentro campaign managers for internal analysis, optimization, and client reporting. No external data sharing.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function simulateLogin() {
            const loginBtn = document.querySelector('.facebook-login-btn');
            loginBtn.innerHTML = '<span style="font-size: 1.2em;">🔄</span> Authenticating Campaign Manager...';
            loginBtn.disabled = true;
            
            setTimeout(() => {
                document.getElementById('loginSection').classList.add('hidden');
                document.getElementById('dashboard').classList.add('active');
                
                setTimeout(() => {
                    document.getElementById('loadingState').classList.add('hidden');
                    document.getElementById('insightsContent').classList.add('active');
                }, 2500);
            }, 1500);
        }
        
        function switchTab(tabName) {
            // Remove active class from all tabs and content
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }
        
        function switchPage() {
            const select = document.getElementById('pageSelect');
            console.log('Switching to:', select.value);
            
            // Simulate loading different page/campaign data
            const allMetrics = document.querySelectorAll('.metric-value');
            allMetrics.forEach(metric => {
                metric.style.opacity = '0.5';
                setTimeout(() => {
                    // Update with "new" data
                    metric.style.opacity = '1';
                    metric.style.animation = 'flash 0.5s ease-in-out';
                    setTimeout(() => {
                        metric.style.animation = '';
                    }, 500);
                }, 300);
            });
        }
        
        // Simulate real-time data updates
        setInterval(() => {
            const metrics = document.querySelectorAll('.metric-value');
            const randomMetric = metrics[Math.floor(Math.random() * metrics.length)];
            if (randomMetric && Math.random() > 0.97) {
                randomMetric.style.animation = 'flash 0.5s ease-in-out';
                setTimeout(() => {
                    randomMetric.style.animation = '';
                }, 500);
            }
        }, 3000);
        
        // Add flash animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes flash {
                0% { background-color: #e3f2fd; }
                50% { background-color: #bbdefb; }
                100% { background-color: transparent; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>